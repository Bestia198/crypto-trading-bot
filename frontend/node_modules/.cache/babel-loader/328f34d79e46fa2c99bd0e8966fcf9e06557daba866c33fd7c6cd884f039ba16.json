{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[status,setStatus]=useState('Loading...');const[portfolio,setPortfolio]=useState(null);const[marketData,setMarketData]=useState(null);const[trades,setTrades]=useState(null);useEffect(()=>{fetch('/status').then(res=>res.json()).then(data=>setStatus(data.message)).catch(err=>setStatus('Failed to connect to backend.'));fetch('/portfolio').then(res=>res.json()).then(data=>setPortfolio(data)).catch(err=>console.error('Error fetching portfolio:',err));fetch('/market_data').then(res=>res.json()).then(data=>setMarketData(data)).catch(err=>console.error('Error fetching market data:',err));fetch('/trades').then(res=>res.json()).then(data=>setTrades(data)).catch(err=>console.error('Error fetching trades:',err));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Crypto Trading Bot Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Backend Status: \",status]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Portfolio Summary\"}),portfolio?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Balance: $\",portfolio.balance.total.toFixed(2),\" USDT\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Available Balance: $\",portfolio.balance.available.toFixed(2),\" USDT\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Open Positions: \",portfolio.open_positions_count]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Unrealized PnL: $\",portfolio.total_unrealized_pnl.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Realized PnL: $\",portfolio.total_realized_pnl.toFixed(2)]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Open Positions:\"}),portfolio.positions.length>0?/*#__PURE__*/_jsx(\"ul\",{children:portfolio.positions.map((pos,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[pos.side,\" \",pos.amount.toFixed(4),\" \",pos.symbol,\" @ $\",pos.entry_price.toFixed(4),\" (Current: $\",pos.current_price.toFixed(4),\") - PnL: $\",pos.unrealized_pnl.toFixed(2)]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No open positions.\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading portfolio data...\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Market Data\"}),marketData?/*#__PURE__*/_jsx(\"div\",{children:Object.keys(marketData).length>0?/*#__PURE__*/_jsx(\"ul\",{children:Object.keys(marketData).map(symbol=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:symbol}),\": Price: $\",marketData[symbol].price.toFixed(4),\", Volume: \",marketData[symbol].volume.toFixed(2),marketData[symbol].small_account_info&&/*#__PURE__*/_jsxs(\"span\",{children:[\" (Min Order: $\",marketData[symbol].small_account_info.min_order_usd.toFixed(2),\")\"]})]},symbol))}):/*#__PURE__*/_jsx(\"p\",{children:\"No market data available.\"})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading market data...\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Trades\"}),trades?/*#__PURE__*/_jsx(\"div\",{children:trades.length>0?/*#__PURE__*/_jsx(\"ul\",{children:trades.map((trade,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[trade.timestamp,\": \",trade.side,\" \",trade.amount.toFixed(4),\" \",trade.symbol,\" @ $\",trade.entry_price.toFixed(4),\" - PnL: $\",trade.realized_pnl.toFixed(2)]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No recent trades.\"})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading trade data...\"})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","status","setStatus","portfolio","setPortfolio","marketData","setMarketData","trades","setTrades","fetch","then","res","json","data","message","catch","err","console","error","className","children","balance","total","toFixed","available","open_positions_count","total_unrealized_pnl","total_realized_pnl","positions","length","map","pos","index","side","amount","symbol","entry_price","current_price","unrealized_pnl","Object","keys","price","volume","small_account_info","min_order_usd","trade","timestamp","realized_pnl"],"sources":["/home/ubuntu/crypto-trading-bot/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [status, setStatus] = useState('Loading...');\n  const [portfolio, setPortfolio] = useState(null);\n  const [marketData, setMarketData] = useState(null);\n  const [trades, setTrades] = useState(null);\n\n  useEffect(() => {\n    fetch('/status')\n      .then(res => res.json())\n      .then(data => setStatus(data.message))\n      .catch(err => setStatus('Failed to connect to backend.'));\n\n    fetch('/portfolio')\n      .then(res => res.json())\n      .then(data => setPortfolio(data))\n      .catch(err => console.error('Error fetching portfolio:', err));\n\n    fetch('/market_data')\n      .then(res => res.json())\n      .then(data => setMarketData(data))\n      .catch(err => console.error('Error fetching market data:', err));\n\n    fetch('/trades')\n      .then(res => res.json())\n      .then(data => setTrades(data))\n      .catch(err => console.error('Error fetching trades:', err));\n\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Crypto Trading Bot Dashboard</h1>\n        <p>Backend Status: {status}</p>\n\n        <h2>Portfolio Summary</h2>\n        {portfolio ? (\n          <div>\n            <p>Total Balance: ${portfolio.balance.total.toFixed(2)} USDT</p>\n            <p>Available Balance: ${portfolio.balance.available.toFixed(2)} USDT</p>\n            <p>Open Positions: {portfolio.open_positions_count}</p>\n            <p>Total Unrealized PnL: ${portfolio.total_unrealized_pnl.toFixed(2)}</p>\n            <p>Total Realized PnL: ${portfolio.total_realized_pnl.toFixed(2)}</p>\n            <h3>Open Positions:</h3>\n            {portfolio.positions.length > 0 ? (\n              <ul>\n                {portfolio.positions.map((pos, index) => (\n                  <li key={index}>\n                    {pos.side} {pos.amount.toFixed(4)} {pos.symbol} @ ${pos.entry_price.toFixed(4)} (Current: ${pos.current_price.toFixed(4)}) - PnL: ${pos.unrealized_pnl.toFixed(2)}\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p>No open positions.</p>\n            )}\n          </div>\n        ) : (\n          <p>Loading portfolio data...</p>\n        )}\n\n        <h2>Market Data</h2>\n        {marketData ? (\n          <div>\n            {Object.keys(marketData).length > 0 ? (\n              <ul>\n                {Object.keys(marketData).map(symbol => (\n                  <li key={symbol}>\n                    <strong>{symbol}</strong>: Price: ${marketData[symbol].price.toFixed(4)}, Volume: {marketData[symbol].volume.toFixed(2)}\n                    {marketData[symbol].small_account_info && (\n                      <span> (Min Order: ${marketData[symbol].small_account_info.min_order_usd.toFixed(2)})</span>\n                    )}\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p>No market data available.</p>\n            )}\n          </div>\n        ) : (\n          <p>Loading market data...</p>\n        )}\n\n        <h2>Recent Trades</h2>\n        {trades ? (\n          <div>\n            {trades.length > 0 ? (\n              <ul>\n                {trades.map((trade, index) => (\n                  <li key={index}>\n                    {trade.timestamp}: {trade.side} {trade.amount.toFixed(4)} {trade.symbol} @ ${trade.entry_price.toFixed(4)} - PnL: ${trade.realized_pnl.toFixed(2)}\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p>No recent trades.</p>\n            )}\n          </div>\n        ) : (\n          <p>Loading trade data...</p>\n        )}\n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}